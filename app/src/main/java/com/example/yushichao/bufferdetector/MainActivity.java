package com.example.yushichao.bufferdetector;

import android.content.Context;
import android.hardware.Sensor;
import android.hardware.SensorManager;
import android.support.v7.app.AppCompatActivity;
import android.os.Bundle;
import android.widget.TextView;
import android.widget.Toast;

public class MainActivity extends AppCompatActivity {

    private double[] data={3.7916565E-5,4.2686E-5,1.7028811E-5,3.248018E-5,0.25667733,0.21132402,0.10315675,0.21947886,0.32317445,0.25141403,0.27443346,0.24226347,0.3195013,0.30363956,0.17630343,0.103955865,0.24191523,0.21213844,0.06141623,0.08433754,0.14548394,0.21532011,0.18983409,0.08342107,0.12966546,0.20822734,0.15327312,0.09563517,0.13234974,0.15231414,0.09569117,0.12626953,0.10552495,0.039710753,0.08371705,0.113756835,0.110932104,0.056282412,0.042829886,0.02479963,0.08198974,0.1547985,0.056722473,0.08411651,0.077453464,0.072189,0.03106811,0.05920342,0.06885308,0.05533763,0.058428414,0.07932648,0.09231437,0.1387597,0.06499115,0.09044447,0.22522633,0.19732039,0.20736176,0.23997551,0.27916867,0.33392003,0.3330877,0.34881708,0.38664722,0.44328684,0.4530195,0.52866507,0.51713264,0.55799025,0.5175668,0.43810233,0.40296838,0.44705343,0.47674912,0.54140913,0.5487646,0.5179638,0.4984383,0.45927376,0.31209943,0.2659758,0.29021183,0.3015723,0.43321997,0.66128033,0.66598946,0.5820778,0.43980145,0.3968961,0.52033514,0.68801314,0.75890774,0.7134365,0.4463365,0.20396414,0.33944938,0.5846682,0.6634456,0.55802464,0.3677703,0.25715414,0.41115424,0.52651095,0.5502862,0.47721782,0.25636166,0.082874276,0.29207364,0.31316152,0.25067356,0.20300843,0.045617614,0.12340722,0.22531492,0.2480638,0.24594693,0.2688545,0.25017768,0.17320332,0.17464842,0.20168743,0.18364055,0.084812306,0.056540858,0.1471428,0.22629836,0.24025567,0.23153661,0.16611177,0.09348243,0.088996224,0.083450995,0.10632055,0.20607391,0.22670773,0.1685204,0.16730522,0.1991758,0.17744942,0.13429287,0.114178926,0.10471409,0.09126373,0.1279731,0.1504105,0.104190394,0.218614,0.23236197,0.12528364,0.112220556,0.093943894,0.094266124,0.09504907,0.0811334,0.113422655,0.13658276,0.14415778,0.12025783,0.09676655,0.04900422,0.09306931,0.16031636,0.14354911,0.20078953,0.11725131,0.05496343,0.1755183,0.1702829,0.11805757,0.06734837,0.091344446,0.23897836,0.27545726,0.16781208,0.08640104,0.11446589,0.17456876,0.1619746,0.08722788,0.12090825,0.13284817,0.07779552,0.08791507,0.08317098,0.06712375,0.13873842,0.18860959,0.23115478,0.17475285,0.091286294,0.10921965,0.13190114,0.1866932,0.22989169,0.23917195,0.17850989,0.09692742,0.10023058,0.1609457,0.23626685,0.16688868,0.11681643,0.18382452,0.30002084,0.27088964,0.15918091,0.2027549,0.17623654,0.06618451,0.12870657,0.17906514,0.2567611,0.23785892,0.17214587,0.21916239,0.19974314,0.116223454,0.13618918,0.07694668,0.12845175,0.15637557,0.17146285,0.19674644,0.23109318,0.21331513,0.1565294,0.23627482,0.25235024,0.12843731,0.22309421,0.32600743,0.22780901,0.24160524,0.38543966,0.45281637,0.3928234,0.23985797,0.13362741,0.115060955,0.15424232,0.20719561,0.26015183,0.23284943,0.23351371,0.20339857,0.1385826,0.15773524,0.29966703,0.42319214,0.43289384,0.34650344,0.29533717,0.1817053,0.1614891,0.24418789,0.26843724,0.36332956,0.44773644,0.39476418,0.20313177,0.20289844,0.31461805,0.2479821,0.20028082,0.27675667,0.27312502,0.41040456,0.35699466,0.28678185,0.2216757,0.15294753,0.2166489,0.2873975,0.28348926,0.2685892,0.19016102,0.12885778,0.18829769,0.32433578,0.411348,0.41415665,0.30808374,0.17501698,0.17737465,0.21576947,0.31951067,0.3015722,0.28013816,0.18619615,0.16372459,0.18122135,0.07541685,0.33161685,0.6434447,0.48623258,0.27398944,0.43571383,1.0459185,1.6687808,1.9967244,2.1802862,2.1311224,2.3323076,2.562028,2.8738449,3.0274074,3.0000417,2.3281367,1.165771,0.47818476,1.1271214,1.9344695,2.60473,2.7605975,2.6176724,2.4975007,2.215417,1.8437346,1.3399897,1.5176015,1.838894,2.4177675,2.735246,2.9284856,2.7659996,2.2114375,1.914113,1.8432839,2.1567726,1.987213,1.8536308,2.2154744,2.686166,2.8460617,2.7020936,2.5995715,2.5474164,2.3766193,1.8420792,1.0121663,1.0678973,1.1618243,1.235512,1.4006858,1.3224533,1.0306783,0.99458367,1.230415,1.504075,1.4532309,1.1689004,0.7906436,0.5975845,0.6061656,0.7842179,0.8967888,0.8631975,0.7757821,0.48516288,0.3435719,0.30782598,0.3548504,0.43593615,0.5586185,0.60356617,0.6270218,0.6096705,0.61952233,0.61315006,0.5197253,0.4192961,0.28331968,0.33204865,0.34732,0.4145762,0.50664324,0.5533831,0.5205953,0.47111693,0.5208386,0.49000928,0.40659618,0.36016327,0.44317922,0.4526593,0.4246064,0.41340443,0.25888264,0.19856177,0.27994433,0.35513502,0.34204054,0.38814571,0.36229217,0.48076382,0.41444895,0.22776465,0.10179078,0.27980867,0.26932156,0.20733513,0.15296848,0.20107904,0.7148166,1.4405597,2.373669,2.4263527,2.045797,2.1916971,2.2025251,1.5754133,1.7547776,2.5312254,2.995837,3.277232,3.2868812,3.1615436,3.3822947,3.1031685,1.9348187,0.6808331,2.3095834,4.4787006,5.392945,4.3725085,2.5632107,2.1972878,2.1939352,1.878729,1.8504379,2.3075242,2.668136,2.798428,2.096192,0.7149035,0.5906155,1.2334743,1.4024358,1.2504697,1.217975,1.3444264,1.3688147,1.2113521,0.9224676,0.7392669,0.6071162,0.3179844,0.46527386,0.74791974,0.84887666,0.81895787,0.7552803,0.62323856,0.59791726,0.5366432,0.5425885,0.49788156,0.44555837,0.34017628,0.5098361,0.6031941,0.5734612,0.44916347,0.36420476,0.30261528,0.18919787,0.26525587,0.22487758,0.30646607,0.49224532,0.737389,0.9002849,0.80783457,0.42947617,0.24302313,0.37327006,0.5810429,0.5245223,0.31408203,0.22180197,0.39330366,0.6684888,0.8318763,0.76028347,0.68284374,0.5796894,0.4001797,0.24507563,0.28256905,0.2488664,0.21422842,0.2817083,0.098968014,0.2314072,0.4280533,0.45999837,0.48872215,0.49314076,0.2845774,0.3723222,0.4601953,0.42025018,0.43288824,0.4488642,0.23595354,0.2515412,0.50693285,0.65599537,0.5937114,0.59520984,0.4910835,0.32345727,0.3154769,0.38780174,0.458533,0.43485874,0.16825132,0.20906757,0.36695695,0.47615248,0.38517612,0.36547565,0.3389393,0.43973678,0.40758508,0.22228456,0.15003645,0.13973288,0.2717294,0.33509657,0.20816079,0.20896436,0.32298928,0.18837596,0.18979332,0.3787686,0.48985976,0.45050347,0.5545913,0.6110424,0.6192999,0.39079785,0.18813248,0.11547873,0.104817405,0.3494887,0.4238956,0.27887723,0.25967562,0.35899806,0.27843076,0.28373116,0.39055273,0.53786385,0.5593657,0.5230604,0.5153494,0.3306409,0.16919602,0.100765295,0.29626304,0.47525287,0.48941398,0.34679937,0.34222606,0.48412776,0.5244773,0.3804442,0.19778329,0.11845634,0.14552177,0.3220348,0.53209627,0.7426645,0.849478,0.8396681,0.6113408,0.31392935,0.17134951,0.15716974,0.20943658,0.24323191,0.22278874,0.22763684,0.3584235,0.43140817,0.5438153,0.6272724,0.40413794,0.28306073,0.54801476,0.5640368,0.72717553,0.9651427,1.0391275,0.7525111,0.21512242,0.4171652,0.64148694,0.5861578,0.2524097,0.36726993,0.51683486,0.42281362,0.30661544,0.22757629,0.34404203,0.66126776,0.85554975,0.9513636,0.865046,0.52060884,0.58725774,0.9345499,0.8746378,0.7320865,1.0668632,0.9613866,0.6243781,0.8063599,1.0811207,0.94625986,0.49381638,0.1244751,0.2904179,0.57678133,0.6590341,0.65980196,0.61898977,0.42414904,0.49932566,0.61373746,0.73429614,0.68116546,0.46273434,0.4627154,0.7330041,0.70143956,0.7449787,0.9627289,0.98131955,0.64352447,0.5862793,0.8606932,0.92167485,0.65962404,0.45609593,0.31272933,0.39319855,0.43668348,0.26845193,0.4467531,0.79867476,0.80304337,0.6659823,0.69977874,0.7064429,0.6343835,0.5747335,0.61047006,0.52460426,0.27110645,0.2914868,0.5526879,0.35934204,0.37299615,0.5347082,0.36522156,0.3754809,0.51687086,0.30652922,0.4345258,0.5891636,0.44176412,0.2645652,0.3697307,0.2894601,0.2813268,0.1953546,0.23348789,0.34400555,0.5196773,0.46004766,0.34549347,0.25664452,0.17736189,0.31214654,0.4206304,0.6359755,0.9020636,0.88072705,0.76352113,0.4797943,0.2178879,0.45314866,0.4387444,0.0808618,0.49210304,0.6649116,0.76968694,0.70711553,0.52118707,0.5715842,0.655397,0.5571945,0.53059465,0.59575915,0.55276567,0.6301651,0.6084798,0.57679355,0.30590048,0.29091966,0.513615,0.6693758,0.619689,0.49361768,0.46801415,0.32839382,0.23420034,0.13816082,0.17489608,0.42007828,0.8780433,1.2367057,1.1697017,0.8966528,0.5490967,0.27470002,0.35268518,0.26906,0.40647325,0.58535707,0.63983965,0.6448577,0.4823217,0.38247138,0.3029658,0.16498731,0.045495395,0.35024193,0.6339279,0.80173063,0.9457169,0.7222485,0.47771358,0.22235517,0.27965534,0.540835,0.4610725,0.43823066,0.7944505,0.8514564,0.63262874,0.5068969,0.43710628,0.4757215,0.5150803,0.6846832,0.89999264,0.949787,0.7378028,0.52664304,1.0316638,1.771222,1.8315127,1.1249766,1.435753,2.2487922,1.8952484,0.6589727,0.5524221,1.0686668,0.5870337,0.5797465,0.6797071,0.17390923,0.45381603,0.6757842,0.9555297,1.1702943,1.0204574,0.5826723,1.456116,2.213647,1.9379437,0.4234221,0.99647015,1.2742001,0.7545786,0.19077682,0.06353886,0.41296405,0.61923665,0.62371224,0.68950635,0.7970167,1.0644536,1.2993866,1.4689476,1.3332877,0.802142,0.15828834,0.67382294,0.9280082,0.5765146,0.33729994,0.67163575,0.76990014,0.5288205,0.2741456,0.36065668,0.494623,0.4186474,0.50000876,0.5096249,0.3930291,0.556411,0.76734376,0.61961985,0.36885297,0.35018402,0.5444942,0.76070803,0.67413175,0.40889993,0.15705478,0.51979977,0.82466155,0.5470247,0.6398183,1.5038617,1.4420948,0.8246942,1.236688,1.4044445,1.14569,1.0704566,0.9440479,0.7006035,0.7464432,1.1397358,1.2423408,0.77953404,0.4776493,0.71880156,1.2028376,1.1411527,0.55424964,0.8539042,1.6196207,1.7964399,0.89135337,0.549191,1.3175036,1.5387992,0.7207159,0.47778857,1.172328,1.3235629,1.347451,1.3088392,0.7976598,0.4905251,0.7101381,0.48491326,0.69167495,1.0260012,0.9222963,0.6875283,0.39517263,0.27731377,0.44005626,0.61784136,0.66261804,0.42340338,0.49051803,0.5982812,0.49417928,0.2774047,0.4224424,0.20254748,0.71561545,1.2362533,1.3475728,0.8351439,0.3999662,0.41162738,0.5174171,0.3701125,0.7447831,0.511239,0.45945427,1.1505635,1.1743395,0.59132415,0.45424953,0.5826856,1.0269,1.3950157,1.2564005,0.84006596,0.5041078,0.7888081,1.2349534,1.4420191,1.455832,1.4187918,0.92917705,0.21331783,0.95870835,1.3568131,1.702606,1.8125213,1.0214092,0.57269925,0.899962,0.9349099,0.55938053,0.91562206,1.2139708,0.8425186,0.3603777,1.1646999,1.4103082,1.0385541,0.5664724,0.42430085,0.6327377,0.9152718,1.5265445,1.8892337,1.8046951,1.3967031,0.7627166,0.5646257,0.7481769,1.0352031,1.3627851,1.2547076,0.6007931,0.3212244,0.557383,0.58134526,0.4727355,0.33198196,0.124558456,0.7430928,1.185925,1.1421376,1.0178522,1.1534424,0.94760704,0.6058655,1.1649867,1.416326,1.26273,1.0777802,1.0299782,0.96478736,0.9141014,1.2008806,1.4243168,1.3654138,0.6941093,0.41894358,1.2764395,1.5646062,1.6233951,1.2180976,0.5182898,0.6149284,1.1205744,1.5930675,1.3479078,0.37512505,0.4898449,0.48695204,0.30685192,0.8520356,1.264579,1.5230802,1.5811317,1.4551287,1.1431805,0.79409724,0.8308826,0.9831609,0.72267514,0.27545822,0.13126743,0.39693302,0.48523265,0.576532,0.4017383,1.05609,1.7240458,2.1026473,1.9202669,1.5303835,1.58454,0.80313414,0.3625522,0.76856005,0.63474494,0.83163565,1.1634005,0.9780971,1.185031,1.7528218,1.8254645,1.4866618,1.1350254,1.3462983,0.9917967,1.1992427,1.7447855,1.8180728,1.3469372,0.70933867,0.44741252,0.54471207,0.7834251,1.0186775,1.0188687,0.73823196,0.45842698,0.37859192,0.83815897,1.2178167,1.3162102,1.0239601,1.0804454,1.7173986,1.7254585,1.0011629,0.5632154,1.1162847,1.64854,1.4692851,1.1513171,1.6379536,1.7579978,1.3604156,0.9813634,0.821172,1.1607047,1.8526663,2.0259552,1.8646166,1.56725,0.9667003,1.6752589,2.3922422,2.2385712,1.0371798,1.2851883,2.3423245,1.8240702,1.0353091,1.8592523,2.0783246,1.0783334,0.76275635,1.835835,2.0164752,1.4598516,1.2273109,0.8493638,1.1278589,1.3353137,0.6185455,0.69301087,1.5676824,1.4315481,0.6270356,1.0075136,1.2827368,0.9033947,0.38848647,0.7145172,1.0104898,1.2558093,0.91541266,0.4504854,0.784623,1.0741858,0.6753928,0.3744654,0.9910041,1.3311517,1.2860241,1.0209398,1.014493,0.7063077,0.6211157,0.9334927,1.0337286,0.7505674,0.652816,0.8196934,1.0121142,1.1384637,1.113762,0.8913787,0.63251305,0.40693253,0.051789004,0.43426612,0.77358353,0.9051903,0.83204496,0.77473176,0.8524078,0.81744945,0.5839638,0.441772,0.56036425,0.7736877,1.1268961,1.1818873,0.5584153,0.591561,0.9843344,0.904422,0.9276216,1.0244218,0.92265576,0.5485851,0.35894015,0.52638435,0.8235474,0.9055285,0.7709428,0.3848058,0.19027476,0.7533599,1.3115689,1.5085757,1.29092,0.854154,0.5774209,0.6935136,0.7244542,0.11179833,0.8123756,1.2279412,1.0952656,0.66993845,0.47508356,0.680959,0.88109183,0.7287189,0.62478554,0.6115237,0.4234375,0.40949428,0.42665964,0.3832777,0.5124085,0.5744633,0.5774191,0.43077126,0.32185578,0.35861713,0.48558334,0.41877815,0.2018875,0.25664046,0.54748,0.634691,0.45305365,0.062385127,0.5644113,0.94660866,0.99915594,0.75324523,0.5932006,0.62506366,0.5171564,0.44924152,0.5521677,0.57673675,0.5074661,0.48521078,0.38781077,0.2650166,0.11140435,0.13169748,0.19106223,0.23900427,0.54145616,0.80011296,0.8794643,0.7238746,0.57948875,0.6809369,0.5580275,0.30914068,0.42209232,0.39968675,0.53340846,0.69753695,0.81269044,0.5774924,0.20580734,0.52667916,0.6847741,0.4910677,0.29351082,0.24631518,0.23274493,0.28967932,0.46506608,0.49271712,0.46694088,0.5162935,0.48892376,0.25791323,0.24285465,0.2397489,0.28344053,0.3226814,0.36341915,0.58610344,0.6104304,0.4846809,0.30414557,0.25361726,0.48179948,0.28952533,0.31226346,0.4623581,0.49685338,0.2522971,0.49682242,0.719843,0.65903366,0.5781581,0.41912666,0.36182415,0.95482975,0.73220986,0.8389144,0.7303911,0.17864428,0.638626,0.79024583,0.75208795,1.0824382,1.1569803,0.6512796,0.29631934,0.8800137,1.1492974,1.3574046,1.6673911,1.5274556,1.0008228,0.53767407,0.6192398,0.39940017,0.23387916,0.43815377,0.61728364,0.86737424,1.0308809,0.8288248,0.34444124,0.48965648,0.7530115,0.64304495,0.4037983,0.10421355,0.27921042,0.51084274,0.5619844,0.56375206,0.5144896,0.50304645,0.38478416,0.51411307,0.6040406,0.42774567,0.57216805,1.2151334,1.2369971,0.4681344,0.501144,0.9286894,0.60882545,0.2625682,0.77237666,0.8385149,0.5604354,0.7602521,0.7271112,0.252636,0.47037733,0.55698717,0.41040307,0.81312835,0.9859262,0.60725176,0.3791132,0.79193443,0.90213,1.0375297,1.4353945,1.6986487,1.2712384,0.4284913,0.48773447,0.33546713,0.36605516,0.5568773,0.62429523,0.4982986,0.6912954,0.8173774,0.7238943,0.5938218,0.1775182,1.0634073,1.5536237,1.1820325,0.5844691,0.69981396,1.0071194,0.98562926,0.5200389,0.55006737,0.7691131,1.1637444,1.0716435,0.9642501,0.9534739,0.810171,0.63636583,0.38180906,0.3710443,0.33625463,0.27862334,0.12941153,0.14862749,0.16663581,0.17005189,0.18592799,0.15700193,0.122583695,0.14943236,0.17810278,0.36597326,0.6563292,0.6264383,0.37298417,0.31591034,0.37912494,0.32179344,0.4194466,0.7352856,1.034151,1.2119222,1.3148421,1.2443932,1.0231606,0.7150511,0.6253761,0.64139056,0.5644365,0.2681742,0.46604946,0.70825666,0.72330457,0.61826897,0.5311434,0.44977346,0.33278182,0.2690234,0.5389204,0.96282834,1.0506465,0.7079653,0.60037696,0.64425576,0.3967196,0.27080932,0.58279985,0.6566671,0.37001595,0.39869896,0.75421906,0.8676798,0.8043963,0.48765936,0.24245064,0.4586602,0.5550647,0.50371194,0.7645239,1.0269439,0.9274933,0.55674404,0.44605228,0.7201181,0.7467277,0.5811752,0.1751719,0.36123508,0.54677904,0.76670444,0.8582433,0.7813584,0.5618331,0.23774262,0.276249,0.45043883,0.2794284,0.11124265,0.42621604,0.5786683,0.5793199,0.40805972,0.3312824,1.6866993,3.0178773,3.8298604,3.725617,3.4944694,4.2090435,4.4265018,3.37039,1.7477806,2.1860032,3.9658906,4.7045236,4.5570335,4.124904,4.0739236,3.5352514,2.4263833,1.3528903,1.0953119,1.5963941,2.2895913,2.4767025,2.4894402,2.5375948,2.266063,2.3929605,3.0668457,3.968607,4.581669,4.071294,2.6283073,1.206995,0.8591498,1.3044658,1.5800627,1.6561819,1.703357,1.5539412,1.2507471,0.9441177,0.8878185,1.0890639,1.1179041,1.1719458,1.1614788,1.0153644,0.815096,0.71979296,0.8077973,0.751669,0.66036654,0.4297827,0.100865625,0.26947686,0.54729396,0.6594525,0.62588483,0.5785693,0.70643044,0.8056038,0.8037889,0.66454446,0.5247917,1.49818,2.8646188,3.398364,2.548123,2.3773477,2.3422635,2.5531554,2.8579338,2.8190098,2.8402998,2.9824514,3.0825465,3.3293684,3.1455655,2.1292558,0.8186689,1.9421513,3.5492125,3.600261,2.5763493,2.6530967,2.071077,0.49400997,0.8445025,1.6178116,1.9661409,1.9366558,1.7138308,1.4347271,1.0284925,0.23168835,0.50218934,0.82772124,0.9422506,1.029561,1.0813664,1.0667669,0.88780296,0.7312947,0.7584516,0.71057373,0.5897328,0.4551091,0.41912293,0.46174064,0.6056136,0.62529844,0.49106273,0.4335134,0.40824378,0.35424486,0.47532314,0.60708517,0.70593405,0.551973,0.37128794,0.44258353,0.783415,0.9749722,0.84090054,0.82718205,0.74543387,0.5973023,0.337275,0.22375473,0.15216403,0.15391491,0.14618427,0.1634034,0.18245025,0.296432,0.41966936,0.5055196,0.53272057,0.3166896,0.16107544,0.266065,0.24854425,0.16978048,0.2625561,0.3746566,0.3819625,0.30289546,0.3538219,0.48783383,0.52275354,0.39697537,0.19187164,0.3437556,0.19271255,0.32971734,0.47209367,0.30845338,0.18968654,0.28970748,0.25093982,0.08017172,0.27784476,0.3380036,0.23685452,0.16916046,0.1371129,0.3352372,0.4360892,0.46250185,0.42541382,0.360625,0.23023923,0.12836197,0.12941962,0.15303534,0.31259456,0.41425148,0.42836916,0.3071781,0.2402833,0.13583675,0.24109097,0.41486835,0.46605518,0.47900596,0.45299903,0.31180555,0.208557,0.40704846,0.3608267,0.35546583,0.44418755,0.6618882,0.7242703,0.6164001,0.5009212,0.44110203,0.4173069,0.64614534,0.8766483,0.81449336,0.8282269,0.7763258,0.6738551,0.6371541,0.7744498,1.0207901,1.1954042,1.233544,1.1988616,1.1275238,1.0328715,1.0116686,0.94859713,0.85352534,0.74083465,0.7327735,0.6674531,0.7029421,0.7064518,0.8745711,0.9796722,1.0292569,0.86348754,0.8770263,0.880196,0.9003516,1.0091858,0.9323391,0.9869665,0.96089566,0.91805774,1.1164834,1.090566,0.8411767,0.76425,0.8124309,0.68212044,0.7169499,0.7846585,0.75005394,1.4568632,2.0943856,0.851707,1.4461235,1.8232439,1.8889208,0.8304214,0.75464016,0.5799932,0.6828773,0.61852103,0.5904121,0.62419695,0.68962467,0.79036444,0.6301388,0.6993926,1.3379506,0.9249906,0.8799448,1.5310028,1.3750457,1.2597406,0.5657299,1.0581502,1.2492092,0.9737397,0.43066812,0.4903916,0.8193322,0.7112346,0.52375275,0.70531654,0.4368071,0.28395572,0.34890732,0.35797602,0.33152598,0.23444676,0.42461812,0.45240295,0.29953468,0.5429294,0.67209536,0.71993464,0.43876222,0.21681283,0.78516287,0.93601084,0.65126044,0.64601433,0.46782446,0.32131347,0.4451479,0.46911567,0.46787596,0.6599204,0.7753074,0.654687,0.41900492,0.69983464,0.8405731,0.81679434};
    private int datacount=0;

    private SensorControl sensorControl;
    private SensorControl.SensorCallback sensorCallback=new SensorControl.SensorCallback() {
        @Override
        public void refreshAcc(float[] accs) {
            tv.setText(accs[0]+"");
            if(accControl!=null){
                if (datacount<data.length){
                    accControl.refreshAcc2((float) data[datacount++]);
                }else {
                    accControl.refreshAcc(accs);
                }
            }
        }
    };

    private AccControl accControl;
    private AccControl.AccCallback accCallback=new AccControl.AccCallback() {
        @Override
        public void BufferDetector(float speed) {
            mv.setTitle("速度:"+speed);
            Toast.makeText(MainActivity.this,"已过缓冲带,估计速度："+speed,Toast.LENGTH_SHORT).show();
        }

        @Override
        public void Drew(float[] data1, float[] data2) {
            if (mv==null) return;
            mv.setRange(data1.length);
            mv.setData(data1,data2);
        }
    };

    private MyView mv;
    private TextView tv;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.main);

        mv=(MyView)findViewById(R.id.myview);
        tv=(TextView)findViewById(R.id.textView);

        sensorControl=new SensorControl((SensorManager) getSystemService(Context.SENSOR_SERVICE),sensorCallback);
        if(!sensorControl.registerSensor(Sensor.TYPE_LINEAR_ACCELERATION,SensorManager.SENSOR_DELAY_GAME)){
            tv.setText("fail");
        }

        accControl=new AccControl(accCallback);
        //accControl.saveData(this.getExternalFilesDir(null)+"");
    }
}
